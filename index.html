<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Realistic Fireworks Display with Sound</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background-color: #000;
      }
      canvas {
        display: block;
      }

      p {
        font-family: 'Lobster', 'Pacifico', cursive, sans-serif;
        font-size: 1.5em;
        letter-spacing: 2.5px;
        animation: colorChange 8s linear infinite;
        color: silver; /* initial fallback */
        background: red;
      }


      @keyframes colorChange {
        0% {
          color: silver;
        }
        20% {
          color: white;
        }
        30% {
          color: aqua
        }
        40% {
          color: gold;
        }
        60% {
          color: purple;
        }
        80% {
          color: green;
        }
        100% {
          color: silver;
        }
      }


      div {
        text-align: center;
      }

      span {
        position: absolute;
        /*bottom: 650px;*/
        top: 105px;
        width: 100%; /* **REQUIRED:** Set an explicit width that fits your garland */
        left: 0;
        right: 0;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
      }


      /* 1. Base Bulb Style */
      .bulb {
        width: 6px;
        height: 10px;
        border-radius: 50%; /* Makes it a circle */
        margin: 13px;
        display: inline-block; /* Allows them to sit side-by-side */


        /* Initial Color (Blue) and Box Shadow for a glow effect */
        background-color: #00BFFF;
        box-shadow: 0 0 5px #00BFFF, 0 0 10px #00BFFF, 0 0 10px #00BFFF;

        /* 2. Apply the Animation */
        animation: flash 1s infinite alternate;
      }

      /* 3. Define the Animation Keyframes */
      @keyframes flash {
        from {
          opacity: 1; /* Fully lit */
        }
        to {
          opacity: 0.1; /* Dims down (almost off) */
        }
      }

      /* 4. Color Variation (for easy expansion) */
      #flashing-bulb-1 {
        /* This bulb will be blue (defined in .bulb, but you could override it here) */
      }

      /* Example of a Red Bulb */
      .red {
        background-color: #FF0000;
        box-shadow: 0 0 5px #FF0000, 0 0 10px #FF0000, 0 0 10px #FF0000;
      }

      /* Example of a Green Bulb */
      .green {
        background-color: #00FF00;
        box-shadow: 0 0 5px #00FF00, 0 0 10px #00FF00, 0 0 10px #00FF00;
      }


      /* Example of a Orange Bulb */
      .orange {
        background-color: #FFA500;
        box-shadow: 0 0 5px #FFA500, 0 0 10px #FFA500, 0 0 10px #FFA500;
      }

      /* Example of a yellow Bulb */
      .yellow {
        background-color: #FFD700;
        box-shadow: 0 0 5px #FFD700, 0 0 10px #FFD700, 0 0 10px #FFD700;
      }

      /* Example of a purple Bulb */
      .purple {
        background-color: #800080;
        box-shadow: 0 0 5px #800080, 0 0 10px #800080, 0 0 10px #800080;
      }



    </style>

  </head>
  <body>




    <div><p> &#x1F33F; &#x1F343; &#10052; &#x2745; &#x1F9CA;
        Happy Holidays  Ellie, Stacey, Alex, Chris, John and Ambra
        &#x2746; &#x1F9CA; &#x1F33F; &#x1F343; &#10052;
      </p>
      <!--<span>
            &#x1F33F;&#x1F343;&#x1F33F;&#x1F343;&#x1F33F;&#x1F343;&#x1F33F;&#x1F343;
            &#x1F33F;&#x1F343;&#x1F33F;&#x1F343;&#x1F33F;&#x1F343;&#x1F33F;&#x1F343;
            &#x1F33F;&#x1F343;&#x1F33F;&#x1F343;&#x1F33F;&#x1F343;&#x1F33F;&#x1F343;
            </span>-->
    </div>
    <span>
    <div class="bulb" id="flashing-bulb-1"></div>
    <div class="bulb red" style="animation-duration: 0.9s;"></div>
    <div class="bulb orange" style="animation-duration: 1.2s;"></div>
    <div class="bulb purple" style="animation-duration: 1.0s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb yellow" style="animation-duration: 2.2s;"></div>
    <div class="bulb blue" style="animation-duration: 2.s;"></div>
    <!--<div class="bulb" id="flashing-bulb-1"></div>-->
    <div class="bulb red" style="animation-duration: 0.9s;"></div>
    <div class="bulb orange" style="animation-duration: 1.4s;"></div>
    <div class="bulb purple" style="animation-duration: 1.9s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb yellow" style="animation-duration: 2.4s;"></div>
    <div class="bulb blue" style="animation-duration: 2.3s;"></div>
    <!--<div class="bulb" id="flashing-bulb-1"></div>-->
   <!-- <div class="bulb red" style="animation-duration: 0.9s;"></div>
    <div class="bulb orange" style="animation-duration: 0.8s;"></div>
    <div class="bulb purple" style="animation-duration: 1.9s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb red" style="animation-duration: 2.4s;"></div>
    <div class="bulb blue" style="animation-duration: 2.6s;"></div>
    <div class="bulb yellow" style="animation-duration: 3.8s;"></div>
    <div class="bulb purple" style="animation-duration: 4.9s;"></div>
    <div class="bulb orange" style="animation-duration: 2.8s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb red" style="animation-duration: 2.4s;"></div>
    <div class="bulb blue" style="animation-duration: 2.8s;"></div>
    <div class="bulb yellow" style="animation-duration: 3.4s;"></div>
    <div class="bulb red" style="animation-duration: 2.8s;"></div>
    <div class="bulb purple" style="animation-duration: 2.5s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb red" style="animation-duration: 2.4s;"></div>
    <div class="bulb blue" style="animation-duration: 3.0s;"></div>
    <div class="bulb red" style="animation-duration: 2.4s;"></div>
    <div class="bulb orange" style="animation-duration: 5.8s;"></div>
    <div class="bulb purple" style="animation-duration: 3.9s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb yellow" style="animation-duration: 2.6s;"></div>
    <div class="bulb blue" style="animation-duration: 1.9s;"></div>
    <div class="bulb orange" style="animation-duration: 3.8s;"></div>
    <div class="bulb red" style="animation-duration: 2.4s;"></div>
    <div class="bulb green" style="animation-duration: 1.4s;"> </div>
    <div class="bulb yellow" style="animation-duration: 2.4s;"></div>-->
</span>


    <canvas id="fireworksCanvas"></canvas>


    <script>
      const canvas = document.getElementById("fireworksCanvas");
      const ctx = canvas.getContext("2d");

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // Sound effects
      const launchSounds = ["assets/launch.wav"];

      const explosionSounds = [
        "assets/explosion1.wav",
        "assets/explosion2.wav",
        "assets/explosion3.wav",
      ];

      function playRandomSound(soundArray) {
        const sound = soundArray[Math.floor(Math.random() * soundArray.length)];
        const audio = new Audio(sound);
        audio.play();
      }

      class Particle {
        constructor(x, y, color, velocity) {
          this.x = x;
          this.y = y;
          this.color = color;
          this.radius = Math.random() * 2 + 1;
          this.velocity = velocity;
          this.life = 100;
          this.alpha = 1;
          this.shimmer = Math.random() < 0.3; // 30% chance of shimmer
        }

        draw() {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
          let alpha = this.alpha;
          if (this.shimmer) {
            alpha *= 0.5 + Math.random() * 0.5; // Random shimmer effect
          }
          ctx.fillStyle = `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${alpha})`;
          ctx.fill();
        }

        update() {
          this.x += this.velocity.x;
          this.y += this.velocity.y;
          this.velocity.y += 0.05; // gravity
          this.life--;
          this.alpha -= 0.01;
        }
      }

      class Firework {
        constructor(x, y) {
          this.x = x;
          this.y = canvas.height;
          this.targetX = x;
          this.targetY = y;
          this.color = {
            r: Math.floor(Math.random() * 255),
            g: Math.floor(Math.random() * 255),
            b: Math.floor(Math.random() * 255),
          };
          const angle = (Math.random() * Math.PI) / 4 - Math.PI / 8;
          const speed = Math.random() * 3 + 5;
          this.velocity = {
            x: Math.sin(angle) * speed,
            y: -Math.cos(angle) * speed,
          };
          this.particles = [];
          this.trail = [];
          this.exploded = false;
          this.explosionProgress = 0;
          this.hasShimmer = Math.random() < 0.5; // 50% chance of shimmering trail

          playRandomSound(launchSounds);
        }

        explode() {
          for (let i = 0; i < 150; i++) {
            const angle = Math.random() * Math.PI * 2;
            const speed = Math.random() * 3 + 1;
            const velocity = {
              x: Math.cos(angle) * speed,
              y: Math.sin(angle) * speed,
            };
            this.particles.push(
              new Particle(this.x, this.y, this.color, velocity)
            );
          }
          this.exploded = true;
          playRandomSound(explosionSounds);
        }

        update() {
          if (!this.exploded) {
            this.x += this.velocity.x;
            this.y += this.velocity.y;
            this.velocity.y += 0.05;
            this.trail.push(
              new Particle(this.x, this.y, this.color, { x: 0, y: 0 })
            );
            if (this.trail.length > 20) this.trail.shift();
            if (this.velocity.y >= 0 || this.y <= this.targetY) this.explode();
          } else {
            this.explosionProgress += 0.02;
            this.particles.forEach((particle) => {
              particle.update();
              particle.draw();
            });
            this.particles = this.particles.filter(
              (particle) => particle.life > 0
            );
          }

          this.trail.forEach((particle, index) => {
            particle.alpha =
              (index / this.trail.length) * (1 - this.explosionProgress);
            if (this.hasShimmer) {
              particle.shimmer = true;
            }
            particle.draw();
          });
        }

        draw() {
          if (!this.exploded) {
            ctx.beginPath();
            ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
            ctx.fillStyle = `rgb(${this.color.r}, ${this.color.g}, ${this.color.b})`;
            ctx.fill();
          }
        }
      }

      let fireworks = [];

      function animate() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        fireworks.forEach((firework) => {
          firework.update();
          firework.draw();
        });

        if (Math.random() < 0.05) {
          const x = Math.random() * canvas.width;
          const y = (Math.random() * canvas.height) / 2;
          fireworks.push(new Firework(x, y));
        }

        fireworks = fireworks.filter(
          (firework) => !firework.exploded || firework.particles.length > 0
        );

        requestAnimationFrame(animate);
      }

      animate();

      // Resize canvas when window is resized
      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });

      // Create firework on click
      canvas.addEventListener("click", (event) => {
        fireworks.push(new Firework(event.clientX, event.clientY));
      });
    </script>
  </body>
</html>









